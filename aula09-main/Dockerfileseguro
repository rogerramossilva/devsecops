FROM python:3.11-slim
RUN adduser --disabled-password --gecos '' appuser && \
    apt-get update && apt-get install -y --no-install-recommends curl=7.88.1-10+deb12u5  && \
    apt-get clean && rm -rf /var/lib/apt/lists/*
USER appuser
HEALTHCHECK CMD curl --fail http://localhost:8000/ || exit 1
CMD ["python3"]
